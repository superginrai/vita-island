(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{378:function(e,t,a){e.exports=a(855)},406:function(e,t,a){},408:function(e,t,a){e.exports=a.p+"static/media/island.352249ef.jpg"},535:function(e,t,a){},540:function(e,t,a){},563:function(e,t,a){},644:function(e,t){},646:function(e,t){},680:function(e,t){},681:function(e,t){},747:function(e,t){},847:function(e,t,a){},849:function(e,t,a){e.exports=a.p+"static/media/tokyo.e1dfd598.jpg"},855:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(52),s=a.n(o),c=a(53),i=a(30),l=a(376),u=(a(387),{FETCH_USER:"FETCH_USER",SET_USER:"SET_USER_ACTION",UNSET_USER:"UNSET_USER_ACTION",REQUEST_START:"REQUEST_START_USER_ACTION",REQUEST_DONE:"REQUEST_DONE_USER_ACTION",LOGOUT:"LOGOUT",USER_FETCH_FAILED:"USER_FETCH_FAILED"});function p(){return{type:u.FETCH_USER}}var h=Object(c.c)({userName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_USER:return t.user.username||e;case u.UNSET_USER:return null;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case u.REQUEST_START:return!0;case u.REQUEST_DONE:return!1;default:return e}}}),m={LOGIN:"LOGIN",CLEAR_LOGIN_ERROR:"CLEAR_LOGIN_ERROR",REQUEST_START:"REQUEST_START",LOGIN_REQUEST_DONE:"LOGIN_REQUEST_DONE",LOGIN_FAILED:"LOGIN_FAILED",LOGIN_FAILED_NO_CODE:"LOGIN_FAILED_NO_CODE",INPUT_ERROR:"INPUT_ERROR",LOGOUT:"LOGOUT"},d=function(e,t){return{type:m.LOGIN,payload:{username:e,password:t}}},g=function(){return{type:m.LOGOUT}};var f=Object(c.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case m.REQUEST_START:return!0;case m.REQUEST_DONE:return!1;default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.CLEAR_LOGIN_ERROR:return"";case m.LOGIN_FAILED:return"Ooops! The username and password didn't match. Try again!";case m.LOGIN_FAILED_NO_CODE:return"Ooops! Something went wrong! Is the server running?";case m.INPUT_ERROR:return t.payload;default:return e}}}),v=Object(c.c)({searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_RESULTS":return t.payload;default:return e}}}),E=a(11),O=a(14),b=a.n(O),y=Object(c.c)({user:h,login:f,searchResults:v}),w=a(866),N=a(868),j=a(865),S=a(867),_=a(49),k=a(16),C=a(17),R=a(19),x=a(18),T=a(20),L=a(864),G=a(57),A=a.n(G),I=a(65),U=a.n(I),F=a(128),D=a.n(F),P=a(56),M=a.n(P),H=a(58),Q=a.n(H),V=a(166),B=a.n(V),W=a(165),z=a.n(W),K=(a(406),a(408),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(R.a)(this,Object(x.a)(t).call(this,e))).login=function(e){e.preventDefault(),""===a.state.username||""===a.state.password?a.props.dispatch({type:m.INPUT_ERROR,payload:"Enter your username and password!"}):a.props.dispatch(d(a.state.username,a.state.password))},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(_.a)({},e,t.target.value))}},a.handleMouseDownPassword=function(e){e.preventDefault()},a.handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.state={username:"",password:"",showPassword:!1},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:m.CLEAR_LOGIN_ERROR})}},{key:"componentWillReceiveProps",value:function(e){e.user.userName&&this.props.history.push("/collection")}},{key:"renderAlert",value:function(){return""!==this.props.login.message?r.a.createElement("h2",{className:"alert",role:"alert"},this.props.login.message):r.a.createElement("span",null)}},{key:"render",value:function(){return r.a.createElement("div",{class:"vita"},this.renderAlert(),r.a.createElement("form",{onSubmit:this.login},r.a.createElement("h1",null,"Welcome to VITA;island"),r.a.createElement("div",null,r.a.createElement("h4",null,"Please Log In"),r.a.createElement(Q.a,null,r.a.createElement(U.a,{htmlFor:"username"},"Username:"),r.a.createElement(A.a,{id:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(U.a,{htmlFor:"password"},"Password:"),r.a.createElement(A.a,{id:"password",type:this.state.showPassword?"text":"password",value:this.state.password,onChange:this.handleInputChangeFor("password"),endAdornment:r.a.createElement(D.a,{position:"end"},r.a.createElement(M.a,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword},this.state.showPassword?r.a.createElement(z.a,null):r.a.createElement(B.a,null)))}))),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",name:"submit",value:"Log In"}),r.a.createElement(L.a,{to:"/register"},"Register"))))}}]),t}(n.Component)),Y=Object(i.b)(function(e){return{user:e.user,login:e.login}})(K),J=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(R.a)(this,Object(x.a)(t).call(this,e))).registerUser=function(e){if(e.preventDefault(),""===a.state.username||""===a.state.password)a.setState({message:"Choose a username and password!"});else{var t={username:a.state.username,password:a.state.password};b.a.post("/api/user/register/",t).then(function(e){201===e.status?a.props.history.push("/home"):a.setState({message:"Ooops! That didn't work. The username might already be taken. Try again!"})}).catch(function(){a.setState({message:"Ooops! Something went wrong! Is the server running?"})})}},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(_.a)({},e,t.target.value))}},a.handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.state={username:"",password:"",message:"",showPassword:!1},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"renderAlert",value:function(){return""!==this.state.message?r.a.createElement("h2",{className:"alert",role:"alert"},this.state.message):r.a.createElement("span",null)}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderAlert(),r.a.createElement("form",{onSubmit:this.registerUser},r.a.createElement("h1",null,"Welcome to VITA;island"),r.a.createElement("div",null,r.a.createElement("img",{src:"images/vitaLove.jpg",width:"400"}),r.a.createElement("h4",null,"Please Register"),r.a.createElement(Q.a,null,r.a.createElement(U.a,{htmlFor:"username"},"Username:"),r.a.createElement(A.a,{id:"username",value:this.state.username,onChange:this.handleInputChangeFor("username")}))),r.a.createElement("div",null,r.a.createElement(Q.a,null,r.a.createElement(U.a,{htmlFor:"password"},"Password:"),r.a.createElement(A.a,{type:this.state.showPassword?"text":"password",id:"password",value:this.state.password,onChange:this.handleInputChangeFor("password"),endAdornment:r.a.createElement(D.a,{position:"end"},r.a.createElement(M.a,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword},this.state.showPassword?r.a.createElement(z.a,null):r.a.createElement(B.a,null)))}))),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",name:"submit",value:"Register"}),r.a.createElement(L.a,{to:"/home"},"Cancel"))))}}]),t}(n.Component),q=a(7),X=a.n(q),Z=a(173),$=a(228),ee=a.n($),te=a(229),ae=a.n(te),ne=a(59),re=a.n(ne),oe=a(230),se=a.n(oe),ce=a(33),ie=a(357),le=a.n(ie),ue=a(227),pe=a.n(ue),he=a(100),me=a.n(he),de=a(130),ge=a.n(de),fe=a(356),ve=a.n(fe),Ee=Object(ce.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:ve.a}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(pe.a,{component:"nav"},r.a.createElement(me.a,{button:!0,component:"a",onClick:e.logOut},r.a.createElement(ge.a,{primary:"Log Out"})),r.a.createElement(me.a,{button:!0,component:"a",onClick:e.collectionNav},r.a.createElement(ge.a,{primary:"Your Collection"})),r.a.createElement(me.a,{button:!0,component:"a",onClick:e.favNav},r.a.createElement(ge.a,{primary:"Favorites"})),r.a.createElement(me.a,{button:!0,component:"a",onClick:e.genreNav},r.a.createElement(ge.a,{primary:"Genres"}))))}),Oe=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState({open:!a.state.open})},a.handleClose=function(e){a.target1.contains(e.target)||a.setState({open:!1})},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.open;return r.a.createElement("div",{className:t.root},r.a.createElement(Z.a,null,r.a.createElement(Z.c,null,r.a.createElement("div",{ref:function(t){e.target1=t}},r.a.createElement(M.a,{className:t.menuButton,"aria-owns":a?"menu-list-grow":null,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit","aria-label":"Menu"},r.a.createElement(le.a,null)))),r.a.createElement(Z.b,{placement:"bottom-start",eventsEnabled:a,className:X()(Object(_.a)({},t.popperClose,!a))},r.a.createElement(ee.a,{onClickAway:this.handleClose},r.a.createElement(ae.a,{in:a,id:"menu-list-grow",style:{transformOrigin:"0 0 0"}},r.a.createElement(re.a,null,r.a.createElement(se.a,{role:"menu"},r.a.createElement(Ee,{collectionNav:this.props.collectionNav,favNav:this.props.favNav,genreNav:this.props.genreNav,logOut:this.props.logOut}))))))))}}]),t}(r.a.Component),be=Object(ce.withStyles)(function(e){return{root:{display:"flex"},paper:{marginRight:2*e.spacing.unit},popperClose:{pointerEvents:"none"}}})(Oe),ye=a(358),we=a.n(ye),Ne=a(359),je=a.n(Ne),Se=a(48),_e=a.n(Se),ke=a(64),Ce=a.n(ke),Re=a(362),xe=a.n(Re),Te=a(361),Le=a.n(Te),Ge=a(360),Ae=a.n(Ge),Ie=(a(535),function(e){function t(e){return Object(k.a)(this,t),Object(R.a)(this,Object(x.a)(t).call(this,e))}return Object(T.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(we.a,{className:e.psx,position:"fixed"},r.a.createElement(je.a,null,r.a.createElement(be,{collectionNav:this.props.collectionNav,favNav:this.props.favNav,genreNav:this.props.genreNav,logOut:this.props.logOut,className:e.DropDown}),r.a.createElement(_e.a,{variant:"title",color:"inherit",className:e.text},r.a.createElement("h3",null,this.props.currentView)),r.a.createElement(_e.a,{variant:"title",className:e.flex},this.props.addOn),r.a.createElement(M.a,{component:"a",onClick:this.props.localSearch,className:e.button,"aria-label":"Search"},r.a.createElement(Ae.a,null)),r.a.createElement(Ce.a,{component:"a",onClick:this.props.addNew,size:"small",variant:"contained",color:"primary",className:e.button},r.a.createElement(Le.a,null),r.a.createElement(xe.a,null)))))}}]),t}(n.Component)),Ue=Object(i.b)()(Object(ce.withStyles)({paper:{height:25,width:50},root:{flexGrow:1},flex:{flex:1,textAlign:"center"},text:{textAlign:"center"},psx:{background:"linear-gradient(45deg, #0054A9 30%, #078BD2 90%)",color:"white",boxShadow:"0 3px 5px 2px rgba(178, 215, 239, .30)"}})(Ie)),Fe=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){a.props.dispatch(g())},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:u.FETCH_USER})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("home")}},{key:"render",value:function(){var e=null;return this.props.user.userName&&(e=r.a.createElement("div",null,r.a.createElement("h1",{id:"welcome"},"Welcome, ",this.props.user.userName,"!"),r.a.createElement("button",{onClick:this.logout},"Log Out"))),r.a.createElement("div",null,r.a.createElement(Ue,null),e)}}]),t}(n.Component),De=Object(i.b)(function(e){return{user:e.user}})(Fe),Pe=function(e){function t(){return Object(k.a)(this,t),Object(R.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:u.FETCH_USER})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("home")}},{key:"render",value:function(){var e=null;return this.props.user.userName&&(e=r.a.createElement("div",null,r.a.createElement("p",null,"Info Page"))),r.a.createElement("div",null,r.a.createElement(Ee,null),e)}}]),t}(n.Component),Me=Object(i.b)(function(e){return{user:e.user}})(Pe),He=(a(540),a(167)),Qe=a.n(He),Ve=a(170),Be=a.n(Ve),We=a(169),ze=a.n(We),Ke=a(168),Ye=a.n(Ke),Je=a(363),qe=a.n(Je),Xe=a(131),Ze=a.n(Xe),$e=a(132),et=a.n($e),tt=a(233),at=a.n(tt),nt=a(365),rt=a.n(nt),ot=a(364),st=a.n(ot),ct=a(89),it=(ct.grey100,ct.grey100,function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={checkedComplete:a.props.game.complete,checkedSealed:a.props.game.sealed,checkedFavorite:a.props.game.favorite},a.handleChange=function(e){return function(t){a.setState(Object(_.a)({},e,t.target.checked))}},a.completeGame=function(e){var t={type:"MAKE_COMPLETE",payload:{person_id:a.props.game.person_id,id:a.props.game.id,complete:a.state.checkedComplete}};a.props.dispatch(t)},a.sealedGame=function(e){var t={type:"MAKE_SEALED",payload:{person_id:a.props.game.person_id,id:a.props.game.id,sealed:a.state.checkedSealed}};a.props.dispatch(t)},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidUpdate",value:function(){this.completeGame(),this.sealedGame()}},{key:"render",value:function(){var e=this;this.props.classes;return r.a.createElement("div",null,r.a.createElement(qe.a,{row:!0},r.a.createElement(Ze.a,{control:r.a.createElement(et.a,{icon:r.a.createElement(st.a,null),checkedIcon:r.a.createElement(rt.a,null),checked:this.state.checkedFavorite,onChange:this.handleChange("checkedFavorite"),onClick:function(){return e.props.makeFavorite(e.props.game)}})}),r.a.createElement(Ze.a,{control:r.a.createElement(et.a,{icon:r.a.createElement(at.a,null),checkedIcon:r.a.createElement(at.a,null),onClick:function(){return e.props.delete(e.props.game)}})}),r.a.createElement(Ze.a,{control:r.a.createElement(et.a,{checked:this.state.checkedComplete,onChange:this.handleChange("checkedComplete"),value:this.props.game.complete}),label:"Complete"}),r.a.createElement(Ze.a,{control:r.a.createElement(et.a,{checked:this.state.checkedSealed,onChange:this.handleChange("checkedSealed"),value:this.props.game.sealed,color:"primary"}),label:"Sealed"})))}}]),t}(r.a.Component)),lt=Object(i.b)(function(e){return{user:e.user}})(it),ut=a(366),pt=a.n(ut),ht=a(367),mt=a.n(ht),dt=a(369),gt=a.n(dt),ft=a(368),vt=a.n(ft);var Et=Object(ce.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(pt.a,null,r.a.createElement(mt.a,{expandIcon:r.a.createElement(vt.a,null)},r.a.createElement(_e.a,{className:t.heading},"More Info")),r.a.createElement(gt.a,null,r.a.createElement(_e.a,null,e.game.description))))});var Ot,bt=Object(ce.withStyles)({card:{maxWidth:400},media:{height:530}})(function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement(Qe.a,{className:t.card},r.a.createElement(Ye.a,{className:t.media,image:e.image_url,title:e.complete}),r.a.createElement(ze.a,null,r.a.createElement(_e.a,{gutterBottom:!0,variant:"headline",component:"h2"},e.title),r.a.createElement(Be.a,null,r.a.createElement(lt,{game:e.game,delete:e.delete,makeFavorite:e.makeFavorite}))),r.a.createElement(Et,{game:e.game})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}),yt=a(43),wt=a.n(yt),Nt=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(R.a)(this,Object(x.a)(t).call(this,e))).getUsersGames=function(){b.a.get("/api/game").then(function(e){console.log(e.data),a.setState({gameList:e.data})}).catch(function(e){console.log("error on games get: ",e)})},a.deleteGame=function(e){wt()({title:"For sure for sure?",text:"Are you sure you want to remove this game from  your collection?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?(wt()("The game has been removed.",{icon:"success"}),b.a.delete("/api/game",{params:{id:e.id,person_id:e.person_id}}).then(function(e){console.log(e),a.getUsersGames()}).catch(function(e){console.log("error on delete",e)})):wt()("It will remain in your collection!")})},a.makeFavorite=function(e){if(console.log(e.favorite,"fav clicked"),!0===e.favorite){console.log("taco click");var t={id:e.id,person_id:e.person_id,favorite:!1};b.a.put("/api/game",t).then(function(e){console.log(e),a.getUsersGames()}).catch(function(e){console.log("error on favorite put",e)})}else{var n={id:e.id,person_id:e.person_id,favorite:!0};b.a.put("/api/game",n).then(function(e){console.log(e),a.getUsersGames()}).catch(function(e){console.log("error on favorite put",e)})}},a.addNew=function(){a.props.history.push("/newGame")},a.localSearch=function(){a.props.history.push("/search")},a.collectionNav=function(){a.props.history.push("/collection")},a.favNav=function(){a.props.history.push("/favorites")},a.genreNav=function(){a.props.history.push("genre")},a.logOut=function(){a.props.history.push("/home")},a.state={gameList:[]},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p()),this.getUsersGames()}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("home")}},{key:"render",value:function(){var e,t=this;return e=r.a.createElement("div",{className:"Collection"},r.a.createElement(Ue,{addNew:this.addNew,localSearch:this.localSearch,collectionNav:this.collectionNav,favNav:this.favNav,genreNav:this.genreNav,logOut:this.logOut,currentView:"Your;Collection"}),r.a.createElement("br",null),this.state.gameList.map(function(e){return r.a.createElement(bt,{key:e.id,game:e,title:e.title,image_url:e.image_url,genre:e.genre,favorite:e.favorite,delete:t.deleteGame,makeFavorite:t.makeFavorite})})),r.a.createElement("div",null,e)}}]),t}(n.Component),jt=Object(i.b)(function(e){return{user:e.user}})(Nt),St=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(R.a)(this,Object(x.a)(t).call(this,e))).getFavorites=function(){b.a.get("/api/game/favorites/".concat(!0)).then(function(e){console.log("ber?"),console.log(e.data),a.setState({gameList:e.data})}).catch(function(e){console.log("error on games get: ",e)})},a.deleteGame=function(e){wt()({title:"For sure for sure?",text:"Are you sure you want to remove this game from  your collection?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?(wt()("The game has been removed.",{icon:"success"}),b.a.delete("/api/game",{params:{id:e.id,person_id:e.person_id}}).then(function(e){console.log(e),a.getFavorites()}).catch(function(e){console.log("error on delete",e)})):wt()("It will remain in your collection!")})},a.makeFavorite=function(e){if(console.log(e.favorite,"fav clicked"),!0===e.favorite){console.log("taco click");var t={id:e.id,person_id:e.person_id,favorite:!1};b.a.put("/api/game",t).then(function(e){console.log(e),a.getFavorites()}).catch(function(e){console.log("error on favorite put",e)})}else{var n={id:e.id,person_id:e.person_id,favorite:!0};b.a.put("/api/game",n).then(function(e){console.log(e),a.getFavorites()}).catch(function(e){console.log("error on favorite put",e)})}},a.addNew=function(){a.props.history.push("/newGame")},a.localSearch=function(){a.props.history.push("/search")},a.collectionNav=function(){a.props.history.push("/collection")},a.favNav=function(){a.props.history.push("/favorites")},a.genreNav=function(){a.props.history.push("genre")},a.logOut=function(){a.props.history.push("/home")},a.state={gameList:[]},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p()),this.getFavorites()}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("home")}},{key:"render",value:function(){var e,t=this;return e=r.a.createElement("div",{className:"Favorites"},r.a.createElement("br",null),this.state.gameList.map(function(e){return r.a.createElement(bt,{key:e.id,title:e.title,image_url:e.image_url,favorite:e.favorite,game:e,delete:t.deleteGame,makeFavorite:t.makeFavorite})})),r.a.createElement("div",null,r.a.createElement(Ue,{addNew:this.addNew,localSearch:this.localSearch,collectionNav:this.collectionNav,favNav:this.favNav,genreNav:this.genreNav,logOut:this.logOut,currentView:"Favorites"}),e)}}]),t}(n.Component),_t=Object(i.b)(function(e){return{user:e.user}})(St),kt=a(66),Ct=a.n(kt),Rt=a(370),xt=a.n(Rt),Tt=(a(563),{MenuItem:{color:ct.lightBlue100,text:ct.lightBlue100},genreList:{text:ct.lightBlue100}}),Lt=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(R.a)(this,Object(x.a)(t).call(this,e))).handleInputChangeFor=function(e){return function(t){console.log(a.state.genre),a.setState(Object(_.a)({},e,t.target.value)),console.log(e),a.props.handleGenre(t.target.value)}},a.state={genre:""},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.genreList},r.a.createElement(Q.a,{fullWidth:!0,color:"secondary"},r.a.createElement(xt.a,{value:this.state.genre,onChange:this.handleInputChangeFor("genre"),inputProps:{name:"genre",id:"genre"}},r.a.createElement(Ct.a,{value:31},"Adventure"),r.a.createElement(Ct.a,{value:33},"Arcade"),r.a.createElement(Ct.a,{value:4},"Fighting"),r.a.createElement(Ct.a,{value:25},"Hack 'n' Slash"),r.a.createElement(Ct.a,{value:10},"Racing"),r.a.createElement(Ct.a,{value:12},"RPG"),r.a.createElement(Ct.a,{value:5},"Shooter"),r.a.createElement(Ct.a,{value:13},"Simulator"),r.a.createElement(Ct.a,{value:15},"Strategy"))))}}]),t}(r.a.Component),Gt=Object(ce.withStyles)(Tt)(Lt),At=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(R.a)(this,Object(x.a)(t).call(this,e))).handleGenre=function(e){b.a.get("/api/game/genre/".concat(e)).then(function(e){console.log(e.data),a.setState({gameList:e.data})}).catch(function(e){console.log("error on games get: ",e)})},a.deleteGame=function(e){wt()({title:"For sure for sure?",text:"Are you sure you want to remove this game from  your collection?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?(wt()("The game has been removed.",{icon:"success"}),b.a.delete("/api/game",{params:{id:e.id,person_id:e.person_id}}).then(function(t){console.log(t),a.handleGenre(e.genre_id)}).catch(function(e){console.log("error on delete",e)})):wt()("It will remain in your collection!")})},a.makeFavorite=function(e){if(console.log(e.favorite,"fav clicked"),!0===e.favorite){console.log("taco click");var t={id:e.id,person_id:e.person_id,favorite:!1};b.a.put("/api/game",t).then(function(t){console.log(t),a.handleGenre(e.genre_id)}).catch(function(e){console.log("error on favorite put",e)})}else{var n={id:e.id,person_id:e.person_id,favorite:!0};b.a.put("/api/game",n).then(function(t){console.log(t),a.handleGenre(e.genre_id)}).catch(function(e){console.log("error on favorite put",e)})}},a.addNew=function(){a.props.history.push("/newGame")},a.localSearch=function(){a.props.history.push("/search")},a.collectionNav=function(){a.props.history.push("/collection")},a.favNav=function(){a.props.history.push("/favorites")},a.genreNav=function(){a.props.history.push("genre")},a.logOut=function(){a.props.history.push("/home")},a.state={gameList:[],genre:""},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p())}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("home")}},{key:"render",value:function(){var e,t=this;this.state.anchorEl;return e=r.a.createElement("div",{className:"Genre"},r.a.createElement("br",null),r.a.createElement(Ue,{addOn:r.a.createElement(Gt,{genreId:this.state.genre,handleGenre:this.handleGenre}),addNew:this.addNew,localSearch:this.localSearch,collectionNav:this.collectionNav,favNav:this.favNav,genreNav:this.genreNav,logOut:this.logOut,currentView:"Genre:"}),this.state.gameList.map(function(e){return r.a.createElement(bt,{key:e.id,title:e.title,image_url:e.image_url,genre:e.genre,favorite:e.favorite,game:e,delete:t.deleteGame,makeFavorite:t.makeFavorite})})),r.a.createElement("div",null,e)}}]),t}(n.Component),It=Object(i.b)(function(e){return{user:e.user}})(At),Ut=a(73),Ft=a(371),Dt=a.n(Ft),Pt=a(129),Mt=a.n(Pt),Ht=Mt()("72bb7ce60b4626f158199825d65f9ffc"),Qt=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(R.a)(this,Object(x.a)(t).call(this,e))).getCovers=function(e){if(void 0===e)console.log("cover art is default");else{var t=Ht.image({cloudinary_id:e.cloudinary_id},"cover_big","jpg");a.setState({game:Object(Ut.a)({},a.state.game,{image_url:t})})}},a.state={game:{title:a.props.result.name,image_url:"images/vitaLove.jpg",genre_id:a.props.result.genres[0],description:a.props.result.summary,complete:!1,sealed:!1}},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.getCovers(this.props.result.cover)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(Qe.a,{className:e.card},r.a.createElement(Ye.a,{className:e.media,image:this.state.game.image_url,title:this.state.game.summary}),r.a.createElement(ze.a,null,r.a.createElement(_e.a,{gutterBottom:!0,variant:"headline",component:"h2"},this.state.game.title),r.a.createElement(Be.a,null,r.a.createElement(Ce.a,{onClick:this.props.addNewGame(this.state.game),variant:"fab",color:"primary",className:e.button},r.a.createElement(Dt.a,null)),"Add this game to your collection"))))}}]),t}(n.Component),Vt=Object(i.b)(function(e){return{}})(Object(ce.withStyles)(function(e){return{card:{maxWidth:400,marginBottom:50},media:{height:530},button:{margin:e.spacing.unit}}})(Qt)),Bt=a(377),Wt=a(372),zt=a.n(Wt),Kt=a(374),Yt=a.n(Kt),Jt=a(373),qt=a.n(Jt),Xt=a(375),Zt=a.n(Xt),$t=a(231),ea=a.n($t),ta={success:zt.a};var aa=Object(ce.withStyles)(function(e){return{success:{backgroundColor:qt.a[600]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,n=e.message,o=e.onClose,s=e.variant,c=Object(Bt.a)(e,["classes","className","message","onClose","variant"]),i=ta[s];return r.a.createElement(ea.a,Object.assign({className:X()(t[s],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(i,{className:X()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(M.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(Yt.a,{className:t.icon}))]},c))}),na=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.openSnackbar=function(){a.setState({open:!0})},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({open:!1})},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){Ot=this.openSnackbar}},{key:"render",value:function(){this.props.classes;return r.a.createElement("div",null,r.a.createElement(Zt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(aa,{onClose:this.handleClose,variant:"success",message:"Added to your collection!"})))}}]),t}(r.a.Component);function ra(){Ot()}var oa=Object(ce.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(na),sa=a(74),ca=a.n(sa),ia=(a(847),a(849),function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(R.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState({newGame:Object(Ut.a)({},a.state.newGame,Object(_.a)({},e,t.target.value))})}},a.handleGenre=function(e){a.setState({newGame:Object(Ut.a)({},a.state.newGame,{genre_id:e})})},a.handleTitle=function(e){a.setState({newGame:Object(Ut.a)({},a.state.newGame,{title:e})})},a.handleSearch=function(e){a.setState(Object(Ut.a)({},a.state.search,{search:e.target.value}))},a.getApi=function(e){e.preventDefault();var t={type:"API_SEARCH",payload:a.state.newGame.search};a.props.dispatch(t),console.log(a.props.searchResults.searchResults),a.setState({newGame:{search:""}})},a.addNewGame=function(e){return function(t){console.log("game:",e),t.preventDefault();var n={type:"ADD_GAME",payload:e};a.props.dispatch(n),a.showNotifier()}},a.showNotifier=function(e){ra()},a.addNew=function(){a.props.history.push("/newGame")},a.localSearch=function(){a.props.history.push("/search")},a.collectionNav=function(){a.props.history.push("/collection")},a.favNav=function(){a.props.history.push("/favorites")},a.genreNav=function(){a.props.history.push("genre")},a.logOut=function(){a.props.history.push("/home")},a.state={newGame:{title:"",genre_id:"",image_url:"",search:""}},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p())}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("home")}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return e=r.a.createElement("div",null,r.a.createElement(oa,null),r.a.createElement(Ue,{addNew:this.addNew,localSearch:this.localSearch,collectionNav:this.collectionNav,favNav:this.favNav,genreNav:this.genreNav,logOut:this.logOut,currentView:"Add;Games"}),r.a.createElement("div",{className:a.root},r.a.createElement(ca.a,{container:!0,spacing:24,justify:"center"},r.a.createElement(re.a,{alignItems:"center",className:a.paper},r.a.createElement("form",{onSubmit:this.getApi},r.a.createElement(ca.a,{item:!0,xs:!0},r.a.createElement(Q.a,null,r.a.createElement(U.a,{htmlFor:"apiSearch"},"Search:"),r.a.createElement(A.a,{className:"input",onChange:this.handleChange("search"),value:this.state.newGame.search,placeholder:"game title"}))),r.a.createElement(ca.a,{item:!0,xs:!0,style:{marginTop:35}},r.a.createElement(Ce.a,{variant:"contained",size:"large",color:"primary",type:"submit"},"FIND GAMES")))))),r.a.createElement("div",null,r.a.createElement("ul",null,this.props.searchResults.map(function(e){return r.a.createElement(Vt,{key:e.id,result:e,addNewGame:t.addNewGame})})))),r.a.createElement("div",null,e)}}]),t}(n.Component)),la=Object(i.b)(function(e){return{user:e.user,searchResults:e.searchResults.searchResults}})(Object(ce.withStyles)(function(e){return{root:{flexGrow:1,justify:"center",alignItems:"center"},paper:{justify:"center",alignItems:"center",padding:3*e.spacing.unit,textAlign:"center",marginTop:"185px",color:e.palette.text.secondary}}})(ia)),ua=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(R.a)(this,Object(x.a)(t).call(this,e))).handleSearch=function(){return function(e){a.setState(Object(Ut.a)({},a.state.search,{search:e.target.value}))}},a.searchCollection=function(e){e.preventDefault();var t={type:"LOCAL_SEARCH",payload:a.state.search};a.props.dispatch(t),a.setState({search:""})},a.deleteGame=function(e){wt()({title:"For sure for sure?",text:"Are you sure you want to remove this game from your collection?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?(wt()("The game has been removed.",{icon:"success"}),b.a.delete("/api/game",{params:{id:e.id,person_id:e.person_id}}).then(function(e){console.log(e)}).catch(function(e){console.log("error on delete",e)})):wt()("It will remain in your collection!")})},a.makeFavorite=function(e){if(!0===e.favorite){var t={id:e.id,person_id:e.person_id,favorite:!1};b.a.put("/api/game",t).then(function(e){console.log(e)}).catch(function(e){console.log("error on favorite put",e)})}else{var a={id:e.id,person_id:e.person_id,favorite:!0};b.a.put("/api/game",a).then(function(e){console.log(e)}).catch(function(e){console.log("error on favorite put",e)})}},a.showNotifier=function(e){ra()},a.addNew=function(){a.props.history.push("/newGame")},a.localSearch=function(){a.props.history.push("/search")},a.collectionNav=function(){a.props.history.push("/collection")},a.favNav=function(){a.props.history.push("/favorites")},a.genreNav=function(){a.props.history.push("genre")},a.logOut=function(){a.props.history.push("/home")},a.state={search:"",gameList:[]},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(p())}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("home")}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return e=r.a.createElement("div",null,r.a.createElement(oa,null),r.a.createElement(Ue,{addNew:this.addNew,localSearch:this.localSearch,collectionNav:this.collectionNav,favNav:this.favNav,genreNav:this.genreNav,logOut:this.logOut,currentView:"Search;Collection"}),r.a.createElement("div",{className:a.root},r.a.createElement(ca.a,{container:!0,spacing:24,justify:"center"},r.a.createElement(re.a,{alignItems:"center",className:a.paper},r.a.createElement("form",{onSubmit:this.searchCollection},r.a.createElement(ca.a,{item:!0,xs:!0},r.a.createElement(Q.a,null,r.a.createElement(U.a,{htmlFor:"apiSearch"},"Search:"),r.a.createElement(A.a,{className:"input",onChange:this.handleSearch(),value:this.state.search,placeholder:"game title"}))),r.a.createElement(ca.a,{item:!0,xs:!0,style:{marginTop:35}},r.a.createElement(Ce.a,{variant:"contained",size:"large",color:"primary",type:"submit"},"SEARCH COLLECTION")))))),r.a.createElement("div",null,r.a.createElement("ul",null,this.props.searchResults.map(function(e){return r.a.createElement(bt,{key:e.id,title:e.title,image_url:e.image_url,genre:e.genre,favorite:e.favorite,game:e,delete:t.deleteGame,makeFavorite:t.makeFavorite})})))),r.a.createElement("div",null,e)}}]),t}(n.Component),pa=Object(i.b)(function(e){return{user:e.user,searchResults:e.searchResults.searchResults}})(Object(ce.withStyles)(function(e){return{root:{flexGrow:1,justify:"center",alignItems:"center"},paper:{justify:"center",alignItems:"center",padding:3*e.spacing.unit,textAlign:"center",marginTop:"185px",color:e.palette.text.secondary}}})(ua)),ha=function(){return r.a.createElement("div",null,r.a.createElement(w.a,null,r.a.createElement(N.a,null,r.a.createElement(j.a,{exact:!0,from:"/",to:"/home"}),r.a.createElement(S.a,{path:"/home",component:Y}),r.a.createElement(S.a,{path:"/register",component:J}),r.a.createElement(S.a,{path:"/user",component:De}),r.a.createElement(S.a,{path:"/info",component:Me}),r.a.createElement(S.a,{path:"/collection",component:jt}),r.a.createElement(S.a,{path:"/favorites",component:_t}),r.a.createElement(S.a,{path:"/genre",component:It}),r.a.createElement(S.a,{path:"/newGame",component:la}),r.a.createElement(S.a,{path:"/search",component:pa}),r.a.createElement(S.a,{render:function(){return r.a.createElement("h1",null,"4O4")}}))))},ma=a(24),da=a.n(ma);var ga=da.a.mark(va),fa=da.a.mark(Ea);function va(){var e;return da.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.c)({type:u.REQUEST_START});case 3:return t.next=5,b.a.get("api/user",{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e.response||e});case 5:return e=t.sent,t.next=8,Object(E.c)({type:u.SET_USER,user:e});case 8:return t.next=10,Object(E.c)({type:u.REQUEST_DONE});case 10:t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(0),t.next=16,Object(E.c)({type:u.REQUEST_DONE});case 16:return t.next=18,Object(E.c)({type:u.USER_FETCH_FAILED,message:t.t0.data||"FORBIDDEN"});case 18:case"end":return t.stop()}},ga,this,[[0,12]])}function Ea(){return da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.e)(u.FETCH_USER,va);case 2:case"end":return e.stop()}},fa,this)}var Oa=Ea;function ba(e){var t={username:e.username,password:e.password};return b.a.post("api/user/login",t,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e.response||e})}var ya=da.a.mark(ja),wa=da.a.mark(Sa),Na=da.a.mark(_a);function ja(e){return da.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E.c)({type:m.CLEAR_LOGIN_ERROR});case 3:return t.next=5,Object(E.c)({type:m.REQUEST_START});case 5:return t.next=7,ba(e.payload);case 7:return t.next=9,Object(E.c)({type:m.LOGIN_REQUEST_DONE});case 9:return t.next=11,Object(E.c)({type:u.FETCH_USER});case 11:t.next=24;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(E.c)({type:m.LOGIN_REQUEST_DONE});case 17:if(401!==t.t0.status){t.next=22;break}return t.next=20,Object(E.c)({type:m.LOGIN_FAILED,message:t.t0.message});case 20:t.next=24;break;case 22:return t.next=24,Object(E.c)({type:m.LOGIN_FAILED_NO_CODE,message:t.t0.message});case 24:case"end":return t.stop()}},ya,this,[[0,13]])}function Sa(e){return da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("api/user/logout",{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e.response||e});case 3:return e.next=5,Object(E.c)({type:u.UNSET_USER});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("LOGOUT FAILED -- CHECK YOUR SERVER",e.t0);case 10:case"end":return e.stop()}},wa,this,[[0,7]])}function _a(){return da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.e)(m.LOGIN,ja);case 2:return e.next=4,Object(E.e)(m.LOGOUT,Sa);case 4:case"end":return e.stop()}},Na,this)}var ka=_a,Ca=da.a.mark(Ia),Ra=da.a.mark(Ua),xa=da.a.mark(Fa),Ta=da.a.mark(Da),La=da.a.mark(Pa),Ga=da.a.mark(Ma),Aa=Mt()("72bb7ce60b4626f158199825d65f9ffc");function Ia(e){var t;return da.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(E.b)(Aa.games,{filters:{"platforms-eq":"46","genres-exists":"1","name-exists":"1","summary-exists":"1"},fields:"*",limit:10,search:e.payload});case 3:return t=a.sent,console.log(t.body),a.next=7,Object(E.c)({type:"SEARCH_RESULTS",payload:t.body});case 7:a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}},Ca,this,[[0,9]])}function Ua(e){var t;return da.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log("are we there yet?",e.payload),a.next=4,Object(E.b)(b.a.get,"/api/game/search/".concat(e.payload));case 4:return t=a.sent,a.next=7,Object(E.c)({type:"SEARCH_RESULTS",payload:t.data});case 7:a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}},Ra,this,[[0,9]])}function Fa(e){var t;return da.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(E.b)(b.a.post,"/api/game",e.payload);case 3:t=a.sent,console.log(t),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}},xa,this,[[0,7]])}function Da(e){var t;return da.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(E.b)(b.a.put,"/api/game/complete",e.payload);case 3:t=a.sent,console.log(t),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}},Ta,this,[[0,7]])}function Pa(e){var t;return da.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(E.b)(b.a.put,"/api/game/sealed",e.payload);case 3:t=a.sent,console.log(t),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}},La,this,[[0,7]])}function Ma(){return da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)("API_SEARCH",Ia);case 2:return e.next=4,Object(E.d)("ADD_GAME",Fa);case 4:return e.next=6,Object(E.d)("MAKE_COMPLETE",Da);case 6:return e.next=8,Object(E.d)("MAKE_SEALED",Pa);case 8:return e.next=10,Object(E.d)("LOCAL_SEARCH",Ua);case 10:case"end":return e.stop()}},Ga,this)}var Ha=Ma,Qa=da.a.mark(Va);function Va(){return da.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([Oa(),ka(),Ha()]);case 2:case"end":return e.stop()}},Qa,this)}var Ba=[],Wa=Object(l.a)();Ba.push(Wa);var za=Object(c.d)(y,{},c.a.apply(void 0,Ba));Wa.run(Va),s.a.render(r.a.createElement(i.a,{store:za},r.a.createElement(ha,null)),document.getElementById("react-root"))}},[[378,2,1]]]);
//# sourceMappingURL=main.795ab704.chunk.js.map